(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ec92079"],{"18d6":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("App-navigation"),a("v-container",{attrs:{"grid-list-lg":""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{staticClass:"text-xs-center display-1 font-weight-black "},[e._v("\n             Welcome "+e._s("male"==e.staff.gender?"Mr.":"Miss.")+" "+e._s(e.staff.fullname.toUpperCase())+" \n                         ")]),a("v-text-field",{staticClass:"mx-2",attrs:{"prepend-icon":"search","append-icon":"mic",label:"Search","solo-inverted":"",flat:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center display-3 font-weight-black my-3"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.loads(),search:e.search,"custom-filter":e.customFilter,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){var s=t.item;return[a("td",[a("b",[e._v(e._s(s.sn))])]),a("td",{staticClass:"text-xs-center"},[e._v(e._s(s.name.toUpperCase()))]),a("td",{staticClass:"text-xs-center"},[e._v(e._s(s.email))]),a("td",{staticClass:"text-xs-center"},[e._v(e._s(s.phone_no))]),a("td",{staticClass:"text-xs-center"},[e._v(e._s(s.gender.toUpperCase()))]),a("td",{staticClass:"text-xs-center"},[e._v(e._s(s.rights))]),a("td",{staticClass:"justify-center layout px-0"},[e.staff.name==s.name?a("Edit-staff",{attrs:{username:s.name,name:s.fullname,email:s.email,phone:s.phone_no,campus:s.campus,gender:s.gender,rights:s.rights}}):e.crc(e.staff.rights,"013")?a("Edit-staff",{attrs:{username:s.name,name:s.fullname,email:s.email,phone:s.phone_no,campus:s.campus,gender:s.gender,rights:s.rights}}):e._e(),e.crc(e.staff.rights,"014")?a("Delete-staff",{attrs:{name:s.name}}):e._e()],1)]}}])})],1)],1)],1),e.crc(e.staff.rights,"012")?a("Add-staff"):e._e()],1)},r=[],n=(a("ac6a"),a("456d"),a("28a5"),a("6b54"),a("a481"),a("53ca")),i=a("3fcb"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("v-dialog",{attrs:{"max-width":"600px"}},[a("span",{staticClass:"fab-container",attrs:{slot:"activator",column:""},slot:"activator"},[a("v-btn",{attrs:{fab:"",dark:"",large:"",color:"brown darken-4",fixed:"",right:"",bottom:""}},[a("v-icon",[e._v("person_add")])],1)],1),a("v-card",{staticClass:"flex",attrs:{flat:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("h1",{staticClass:"headline mb-1"},[a("b",[e._v("ADD NEW STAFF")])])]),a("v-card-text",{staticClass:" text-xs-center display-1  my-2 flex"},[e._v("\n             \n             Default password for new staff is "),a("b",[e._v("pass123")])]),a("v-card-text",[a("v-form",{ref:"form",staticClass:"px-3"},[a("v-text-field",{attrs:{label:"Username*",rules:e.usernameRules,"prepend-icon":"person"},on:{keypress:e.isName},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("v-text-field",{attrs:{label:"Password*",rules:e.passRules,readonly:"","prepend-icon":"lock"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{attrs:{label:"Full Name*",rules:e.nameRules,"prepend-icon":"comment"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-text-field",{attrs:{label:"Email Address","prepend-icon":"mail"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{label:"Phone number","prepend-icon":"phone"},on:{keypress:e.isNumber},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),a("v-select",{attrs:{label:"Campus*","item-text":"campus",items:e.camp,"prepend-icon":"contacts"},model:{value:e.camps,callback:function(t){e.camps=t},expression:"camps"}}),a("v-select",{attrs:{label:"Gender*","item-text":"gender",items:[{header:"Gender"},"male","female"],"prepend-icon":"contacts"},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}}),a("v-select",{attrs:{label:"Rights*","item-text":"rights",multiple:"",items:e.roles,"prepend-icon":"contacts"},model:{value:e.rights,callback:function(t){e.rights=t},expression:"rights"}}),e.error_state?a("span",{staticClass:"red--text"},[e._v(e._s(e.error_value))]):e._e(),a("span",[e._v(" * indicates required field ")])],1)],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{outline:"",block:"",color:"brown",disabled:e.isDisabled,loading:e.isDisabled},on:{click:function(t){e.add()}}},[e._v("Add Staff")])],1)],1)],1)],1)},o=[],c=(a("7f7f"),a("cadf"),a("551c"),a("097d"),a("4abe")),d=a("c1df"),u=a.n(d),f=a("ea45"),m={name:"AddStaff",data:function(){return{isDisabled:!1,error_state:!1,error_value:"You must supply a gender",username:"",password:"pass123",name:"",gender:[],email:"",camps:[],camp:Object(f["c"])([{header:"Supers"},"all",{header:"Normal"}],this.$store.getters.getCampus),rights:[],roles:[{header:"Super"},"003","007","011","012","013","014","015","018",{header:"Average"},"001","002","004","005","008","009","016","017","019","020","022","023",{header:"Normal"},"006","010","021"],phone:"",usernameRules:[function(e){return e.length>=5||"Minimum length is 5 characters"},function(e){return e.length<=20||"Maximum length is 20 characters"}],passRules:[function(e){return e.length>=4||"Minimum length is 4 characters"},function(e){return e.length<=20||"Maximum length is 20 characters"}],nameRules:[function(e){return e.length>=5||"Minimum length is 5 characters"},function(e){return e.length<=30||"Maximum length is 30 characters"}]}},methods:{isName:function(e){e=e||window.event;var t=e.which?e.which:e.keycode;if(46!==t&&32!==t)return!0;e.preventDefault()},isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keycode;if(!(t>31&&(t<48||t>57)||46==t))return!0;e.preventDefault()},add:function(){var e=this;if(this.$refs.form.validate()){var t=u()().format("DD/MM/YYYY");if(0==this.camps.length)return e.error_state=!0,void(e.error_value="Staff must be assigned a campus");if(0==this.gender.length)return e.error_state=!0,void(e.error_value="Staff must be assigned a gender");if(0==this.rights.length)return e.error_state=!0,void(e.error_value="Staff must be assigned at least one right");e.error_state=!1;var a=this.$store.getters.getStaff.name;console.log(a);var s={name:this.username.toLowerCase(),password:this.password,fullname:this.name,campus:this.camps.toLowerCase(),gender:this.gender,email:this.email,phone_no:this.phone,rights:this.rights,dateadded:t,useradd:a};console.log(s),e.isDisabled=!0,Object(c["a"])("staff",this.username.toLowerCase(),s,function(t){t?(console.log("This is response: ",t),alert("Staff has been successfully added"),e.$store.dispatch("updateStaffs"),e.isDisabled=!1):(console.log("Unknown Error occured."),e.isDisabled=!1)})}}}},h=m,p=(a("1c24"),a("0c7c")),v=a("6544"),g=a.n(v),b=a("8336"),x=a("b0af"),_=a("99d9"),w=a("12b2"),C=a("169a"),S=a("ce7e"),k=a("4bd4"),D=a("132d"),y=a("b56d"),V=a("2677"),E=Object(p["a"])(h,l,o,!1,null,"3ee2b052",null);E.options.__file="AddStaff.vue";var M=E.exports;g()(E,{VBtn:b["a"],VCard:x["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:w["a"],VDialog:C["a"],VDivider:S["a"],VForm:k["a"],VIcon:D["a"],VSelect:y["a"],VTextField:V["a"]});var N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("v-dialog",{attrs:{"max-width":"600px"}},[a("span",{staticClass:"fab-container",attrs:{slot:"activator",column:""},slot:"activator"},[a("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(t){e.edit(e.name,e.email,e.phone,e.gender,e.username,e.rights,e.campus)}}},[a("v-icon",{attrs:{color:"teal"}},[e._v("edit")])],1)],1),a("v-card",{staticClass:"flex",attrs:{flat:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("h1",{staticClass:"headline mb-1"},[a("b",[e._v("EDIT YOUR DETAILS")])])]),a("v-card-text",{staticClass:" text-xs-center display-1  my-2 flex"}),a("v-card-text",[a("v-form",{ref:"editform",staticClass:"px-3"},[a("v-text-field",{attrs:{label:"Username*",rules:e.usernameRules,"prepend-icon":"person"},on:{keypress:e.isName},model:{value:e.usernameloc,callback:function(t){e.usernameloc=t},expression:"usernameloc"}}),a("v-text-field",{attrs:{label:"Password*",rules:e.passRules,"prepend-icon":"lock"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{attrs:{label:"Full Name*",rules:e.nameRules,"prepend-icon":"comment"},model:{value:e.nameloc,callback:function(t){e.nameloc=t},expression:"nameloc"}}),a("v-text-field",{attrs:{label:"Email Address","prepend-icon":"mail"},model:{value:e.emailloc,callback:function(t){e.emailloc=t},expression:"emailloc"}}),a("v-text-field",{attrs:{label:"Phone number","prepend-icon":"phone"},on:{keypress:e.isNumber},model:{value:e.phoneloc,callback:function(t){e.phoneloc=t},expression:"phoneloc"}}),a("v-select",{attrs:{label:"Gender*","item-text":"gender",items:[{header:"Gender"},"male","female"],"prepend-icon":"contacts"},model:{value:e.genderloc,callback:function(t){e.genderloc=t},expression:"genderloc"}}),e.crc(e.staff.rights,"013")?a("v-select",{attrs:{label:"Campus*","item-text":"campus",items:e.camp,"prepend-icon":"contacts"},model:{value:e.campusloc,callback:function(t){e.campusloc=t},expression:"campusloc"}}):e._e(),e.crc(e.staff.rights,"013")?a("v-select",{attrs:{label:"Rights*","item-text":"rights",multiple:"",items:e.roles,"prepend-icon":"contacts"},model:{value:e.rightsloc,callback:function(t){e.rightsloc=t},expression:"rightsloc"}}):e._e(),e.error_state?a("span",{staticClass:"red--text"},[e._v(e._s(e.error_value))]):e._e(),a("span",[e._v(" * indicates required field ")])],1)],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{outline:"",block:"",color:"brown",disabled:e.isDisabled,loading:e.isDisabled},on:{click:function(t){e.add()}}},[e._v("Edit ")])],1)],1)],1)],1)},A=[],O={name:"EditStaff",props:{username:{required:!0},email:{required:!0},name:{required:!0},phone:{required:!0},campus:{required:!0},gender:{required:!0},rights:{required:!0}},computed:{usernameloc:{get:function(){return this.usernameda},set:function(e){this.usernameda=e}},nameloc:{get:function(){return this.nameda},set:function(e){this.nameda=e}},emailloc:{get:function(){return this.emailda},set:function(e){this.emailda=e}},phoneloc:{get:function(){return this.phoneda},set:function(e){this.phoneda=e}},campusloc:{get:function(){return this.campusda},set:function(e){this.campusda=e}},genderloc:{get:function(){return this.genderda},set:function(e){this.genderda=e}},rightsloc:{get:function(){return this.rightsda},set:function(e){this.rightsda=e}}},data:function(){return{isDisabled:!1,staff:this.$store.getters.getStaff,usernameda:this.username,nameda:this.name,emailda:this.email,phoneda:this.phone,password:"",campusda:this.campus,genderda:this.gender,error_state:!1,error_value:"You must supply a gender",camp:Object(f["c"])([{header:"Supers"},"all",{header:"Normal"}],this.$store.getters.getCampus),rightsda:this.rights,roles:[{header:"Super"},"003","007","011","012","013","014","015","018",{header:"Average"},"001","002","004","005","008","009","016","017","019","020","022","023",{header:"Normal"},"006","010","021"],usernameRules:[function(e){return e.length>=5||"Minimum length is 5 characters"},function(e){return e.length<=20||"Maximum length is 20 characters"}],passRules:[function(e){return e.length>=4||"Minimum length is 4 characters"},function(e){return e.length<=20||"Maximum length is 20 characters"}],nameRules:[function(e){return e.length>=5||"Minimum length is 5 characters"},function(e){return e.length<=30||"Maximum length is 30 characters"}]}},methods:{edit:function(e,t,a,s,r,n,i){this.usernameda=r,this.nameda=e,this.emailda=t,this.phoneda=a,this.campusda=i,this.genderda=s,this.rightsda=n},crc:function(e,t){return Object(f["a"])(e,t)},isName:function(e){e=e||window.event;var t=e.which?e.which:e.keycode;if(46!==t&&32!==t)return!0;e.preventDefault()},isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keycode;if(!(t>31&&(t<48||t>57)||46==t))return!0;e.preventDefault()},add:function(){var e=this;if(this.$refs.editform.validate()){var t=u()().format("DD/MM/YYYY");if(0==this.campusda.length)return e.error_state=!0,void(e.error_value="Staff must be assigned a campus");if(0==this.genderda.length)return e.error_state=!0,void(e.error_value="Staff must be assigned a gender");if(0==this.rights.length)return e.error_state=!0,void(e.error_value="Staff must be assigned at least one right");e.error_state=!1;var a=this.$store.getters.getStaff.name,s={name:this.usernameda.toLowerCase(),password:this.password,fullname:this.nameda,campus:this.campusda.toLowerCase(),gender:this.genderda,email:this.emailda,phone_no:this.phoneda,rights:this.rightsda,dateadded:t,useredit:a};console.log(s),e.isDisabled=!0,Object(c["i"])("staff",this.username,this.usernameloc,s,function(t){t?(console.log("This is response: ",t),alert("Staff has been successfully updated"),e.$store.dispatch("updateStaffs"),e.isDisabled=!1,e.staff.name==e.username&&e.$store.commit("changeStaff",s)):(console.log(null),e.isDisabled=!1)})}}}},R=O,$=(a("da47"),Object(p["a"])(R,N,A,!1,null,"3e113c4c",null));$.options.__file="EditStaff.vue";var T=$.exports;g()($,{VBtn:b["a"],VCard:x["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:w["a"],VDialog:C["a"],VDivider:S["a"],VForm:k["a"],VIcon:D["a"],VSelect:y["a"],VTextField:V["a"]});var Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(t){e.deletestaff()}}},[a("v-icon",{attrs:{color:"pink"}},[e._v("delete")])],1)],1)},j=[],F={name:"DeleteStaff",props:{name:{required:!0}},data:function(){return{}},methods:{deletestaff:function(){var e=this,t=confirm("Warning!!! \n This will delete this staff, do you continue?","Exodus","Yes","No");if(t){var a=u()().format("DD/MM/YYYY");console.log(a),Object(c["e"])("staff",this.name,function(t){t?(console.log("This is response: ",t),alert("Staff has been successfully deleted"),e.$store.dispatch("updateStaffs")):console.log(null)})}}}},I=F,q=(a("be49"),Object(p["a"])(I,Y,j,!1,null,"ba93efe2",null));q.options.__file="DeleteStaff.vue";var L=q.exports;g()(q,{VBtn:b["a"],VIcon:D["a"]});var U={name:"staff",data:function(){return{staff:this.$store.getters.getStaff,dialog:!1,search:"",headers:[{text:"S/N",align:"center",sortable:!0,value:"sn"},{text:"USERNAME",align:"center",sortable:!0,value:"name"},{text:"EMAIL",align:"center",sortable:!0,value:"email"},{text:"PHONE",align:"center",sortable:!0,value:"phone"},{text:"GENDER",align:"center",sortable:!0,value:"gender"},{text:"RIGHTS",align:"center",sortable:!1,value:"rights"},{text:"ACTION",sortable:!1,value:""}],editedIndex:-1,editedItem:{name:""},defaultItem:{},listPrimitive:null}},methods:{loads:function(){var e,t=this;return t.$store.dispatch("updateStaffs"),e=t.$store.getters.getAllStaffs,e},crc:function(e,t){return Object(f["a"])(e,t)},customFilter:function(e,t){if(!t)return e;function a(e,t){return null!==e&&-1===["undefined","boolean"].indexOf(Object(n["a"])(e))&&-1!==e.toString().toLowerCase().replace(/[^0-9a-zA-Z]+/g,"").indexOf(t)}var s=t.toString().toLowerCase().split(" ").filter(function(e){return e});return e.filter(function(e){return s.every(function(t){return Object.keys(e).some(function(s){return a(e[s],t)})})})}},components:{AppNavigation:i["a"],AddStaff:M,EditStaff:T,DeleteStaff:L}},G=U,P=a("a523"),B=a("8fea"),W=a("0e8f"),H=a("a722"),J=Object(p["a"])(G,s,r,!1,null,null,null);J.options.__file="Staff.vue";t["default"]=J.exports;g()(J,{VContainer:P["a"],VDataTable:B["a"],VFlex:W["a"],VLayout:H["a"],VTextField:V["a"]})},"1c24":function(e,t,a){"use strict";var s=a("2d61"),r=a.n(s);r.a},"266e":function(e,t,a){},"2d61":function(e,t,a){},be49:function(e,t,a){"use strict";var s=a("266e"),r=a.n(s);r.a},da47:function(e,t,a){"use strict";var s=a("dadd"),r=a.n(s);r.a},dadd:function(e,t,a){}}]);
//# sourceMappingURL=chunk-6ec92079.f8f984b1.js.map