(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a437f91"],{"0094":function(e,t,a){},"1ef3":function(e,t,a){},"2db4":function(e,t,a){"use strict";a("0094");var s=a("b64a"),i=a("98a1"),n=a("c22b"),o=a("58df");t["a"]=Object(o["a"])(s["a"],i["a"],Object(n["b"])(["absolute","top","bottom","left","right"])).extend({name:"v-snackbar",props:{autoHeight:Boolean,multiLine:Boolean,timeout:{type:Number,default:6e3},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--active":this.isActive,"v-snack--absolute":this.absolute,"v-snack--auto-height":this.autoHeight,"v-snack--bottom":this.bottom||!this.top,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--top":this.top,"v-snack--vertical":this.vertical}}},watch:{isActive:function(){this.setTimeout()}},mounted:function(){this.setTimeout()},methods:{setTimeout:function(){var e=this;window.clearTimeout(this.activeTimeout),this.isActive&&this.timeout&&(this.activeTimeout=window.setTimeout(function(){e.isActive=!1},this.timeout))}},render:function(e){var t=[];return this.isActive&&t.push(e("div",{staticClass:"v-snack",class:this.classes,on:this.$listeners},[e("div",this.setBackgroundColor(this.color,{staticClass:"v-snack__wrapper"}),[e("div",{staticClass:"v-snack__content"},this.$slots.default)])])),e("transition",{attrs:{name:"v-snack-transition"}},t)}})},5450:function(e,t,a){"use strict";var s=a("1ef3"),i=a.n(s);i.a},"7c8a":function(e,t,a){},"91d6":function(e,t,a){},9463:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("App-navigation"),a("v-container",{attrs:{"grid-list-lg":""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{staticClass:"text-xs-center display-1 font-weight-black "},[e._v("Available Campuses ")]),a("v-text-field",{staticClass:"mx-2",attrs:{"prepend-icon":"search","append-icon":"mic",label:"Search","solo-inverted":"",flat:""}})],1),a("v-layout",{attrs:{row:"",wrap:""}},[null==e.specific()[0]?a("v-flex",{staticClass:"text-xs-center display-3 font-weight-black my-5"},[e._v("\r\n             \r\n                Welcome "+e._s("male"==e.staff.gender?"Mr.":"Miss.")+" "+e._s(e.staff.fullname.toUpperCase())+",\r\n                 there are no stored campuses yet\r\n                "),a("br"),a("br"),a("h4",[e._v("You may also be seeing this message if a campus you work in has been deleted")])]):e._e(),e._l(e.specific(),function(t,s){return a("v-flex",{key:s,attrs:{xs12:"",sm12:"",md4:""}},[a("v-card",[a("v-img",{attrs:{src:t.image,height:"300px",title:"View"},on:{click:function(a){e.next(t.name)}}},[a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-layout",{attrs:{"fill-height":""}},[a("v-flex",{attrs:{xs12:"","align-end":"",flexbox:""}},[a("span",{staticClass:"headline white--text"},[a("b")])])],1)],1)],1),a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0 "},[a("b",[e._v(e._s(t.name.toUpperCase()))])]),e.crc(e.staff.rights,"017")?a("edit-campus",{attrs:{name:t.name,movies:t.movies}}):e._e(),e.crc(e.staff.rights,"018")?a("delete-campus",{attrs:{name:t.name}}):e._e()],1)])],1)],1)})],2),e.crc(e.staff.rights,"016")?a("Add-campus"):e._e()],1)],1)},i=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("v-dialog",{attrs:{"max-width":"600px"}},[a("span",{staticClass:"fab-container",attrs:{slot:"activator",column:""},slot:"activator"},[a("v-btn",{attrs:{fab:"",dark:"",large:"",color:"brown darken-4",fixed:"",right:"",bottom:""}},[a("v-icon",[e._v("add")])],1)],1),a("v-card",{staticClass:"flex",attrs:{flat:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("h1",{staticClass:"headline mb-1"},[a("b",[e._v("ADD CAMPUS")])])]),a("v-card-text",{staticClass:" text-xs-center display-1  my-2 flex"},[e._v("\n             \n             Firstly you must add a campus in order to link a \n             movie to a campus\n             \n          ")]),a("v-card-text",[a("v-form",{ref:"form",staticClass:"px-3"},[a("v-text-field",{attrs:{label:"Name",rules:e.nameRules,"prepend-icon":"folder"},on:{keypress:e.isName},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-icon",[e._v("file_upload")]),a("span",{staticClass:"flex"},[a("b",[e._v("   Select Image File  ")]),a("input",{staticClass:"file",attrs:{type:"file"}})]),a("br"),e.fileerror?a("span",{staticClass:"red--text"},[e._v("You must select a file")]):e._e()],1)],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{outline:"",block:"",color:"brown",disabled:e.isDisabled,loading:e.isDisabled},on:{click:function(t){e.add()}}},[e._v("Add Campus")])],1)],1)],1),a("v-snackbar",{attrs:{color:"success"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[e._v(e._s(e.message))])],1)},o=[],r=(a("7f7f"),a("4abe")),c=a("c1df"),l=a.n(c),u={name:"AddCampus",data:function(){return{isDisabled:!1,name:"",fileerror:!1,show:!1,message:"",nameRules:[function(e){return e.length>=3||"Minimum length is 3 characters"},function(e){return e.length<=10||"Maximum length is 10 characters"}]}},methods:{isName:function(e){e=e||window.event;var t=e.which?e.which:e.keycode;if(t>31&&(t<48||t>57)&&46!==t&&32!==t)return!0;e.preventDefault()},add:function(){var e=this;if(this.$refs.form.validate()){var t=l()().format("DD/MM/YYYY"),a=document.querySelector(".file"),s=a.files[0];if(console.log(a.files),!s)return console.log("Choi"),void(this.fileerror=!0);this.fileerror=!1;var i=this.$store.getters.getStaff.name;console.log(s.type),console.log(i);var n={name:this.name.toLowerCase(),movies:[],file:s.type,dateadded:t,useradd:i};e.isDisabled=!0,Object(r["b"])("campus","campuses",this.name.toLowerCase(),n,s,function(t){t?(console.log("This is response: ",t),e.message="It has been succesfully added to your campuses",e.show=!0,e.$store.dispatch("updateCampus",!0),e.isDisabled=!1):(console.log(null),e.isDisabled=!1)})}}}},d=u,m=(a("bd30"),a("0c7c")),f=a("6544"),v=a.n(f),h=a("8336"),p=a("b0af"),b=a("99d9"),g=a("12b2"),C=a("169a"),x=a("ce7e"),_=a("4bd4"),w=a("132d"),k=a("2db4"),y=a("2677"),V=Object(m["a"])(d,n,o,!1,null,"ebdd96a8",null);V.options.__file="AddCampus.vue";var D=V.exports;v()(V,{VBtn:h["a"],VCard:p["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:g["a"],VDialog:C["a"],VDivider:x["a"],VForm:_["a"],VIcon:w["a"],VSnackbar:k["a"],VTextField:y["a"]});var T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("v-dialog",{attrs:{"max-width":"600px"}},[a("span",{staticClass:"fab-container",attrs:{slot:"activator",column:""},slot:"activator"},[a("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(t){e.edit(e.name)}}},[a("v-icon",{attrs:{color:"teal"}},[e._v("edit")])],1)],1),a("v-card",{staticClass:"flex",attrs:{flat:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("h1",{staticClass:"headline mb-1"},[a("b",[e._v("EDIT CAMPUS")])])]),a("v-card-text",{staticClass:" text-xs-center display-1  my-2 flex"},[e._v("\n             \n             Select a new name and image for this campus\n          ")]),a("v-card-text",[a("v-form",{ref:"editform",staticClass:"px-3"},[a("v-text-field",{attrs:{label:"Name",rules:e.nameRules,"prepend-icon":"folder"},on:{keypress:e.isName},model:{value:e.nameloc,callback:function(t){e.nameloc=t},expression:"nameloc"}}),a("v-icon",[e._v("folder")]),a("span",{staticClass:"flex"},[a("b",[e._v("   Select Banner  ")]),a("input",{class:e.nameloc,attrs:{type:"file"}})]),a("br"),e.fileerror?a("span",{staticClass:"red--text"},[e._v("You must select an image:png,jpeg or jpg")]):e._e()],1)],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{outline:"",block:"",color:"brown",disabled:e.isDisabled,loading:e.isDisabled},on:{click:function(t){e.add()}}},[e._v("Edit Campus")])],1)],1)],1),a("v-snackbar",{attrs:{color:"success"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[e._v(e._s(e.message))])],1)},$=[],A={name:"EditCampus",props:{name:{required:!0},movies:{required:!0}},computed:{nameloc:{get:function(){return this.nameda},set:function(e){this.nameda=e}}},data:function(){return{isDisabled:!1,nameda:this.name,fileerror:!1,show:!1,message:"",nameRules:[function(e){return e.length>=3||"Minimum length is 3 characters"},function(e){return e.length<=10||"Maximum length is 10 characters"}]}},methods:{edit:function(e){console.log("Edit ",e),this.nameda=e},isName:function(e){e=e||window.event;var t=e.which?e.which:e.keycode;if(t>31&&(t<48||t>57)&&46!==t&&32!==t)return!0;e.preventDefault()},add:function(){var e=this;if(this.$refs.editform.validate()){var t=l()().format("DD/MM/YYYY"),a=document.querySelector("."+this.nameloc),s=a.files[0];if(console.log(333),!s)return void(this.fileerror=!0);if(console.log(s.type),"image/jpeg"!=s.type&&"image/png"!=s.type)return void(this.fileerror=!0);this.fileerror=!1;var i=this.$store.getters.getStaff.name,n={name:this.nameloc.toLowerCase(),movies:this.movies,file:s.type,dateadded:t,useredit:i};console.log(n),e.isDisabled=!0,Object(r["j"])("campus",this.name,this.nameloc,n,s,function(t){t?(e.message="This has been successfully updated",e.show=!0,Object(r["h"])("staff",e.name,e.nameloc.toLowerCase(),"campus",function(t){t&&(e.name===e.$store.getters.getStaff.campus&&e.$store.commit("updateStaffAfterCorres",e.nameloc),e.$store.dispatch("updateStaffs"),e.$store.dispatch("updateCampus",!0),e.isDisabled=!1,console.log(t))})):(console.log(null),e.isDisabled=!1)})}}}},S=A,j=(a("5450"),Object(m["a"])(S,T,$,!1,null,"2befcf35",null));j.options.__file="EditCampus.vue";var Y=j.exports;v()(j,{VBtn:h["a"],VCard:p["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:g["a"],VDialog:C["a"],VDivider:x["a"],VForm:_["a"],VIcon:w["a"],VSnackbar:k["a"],VTextField:y["a"]});var M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(t){e.deletecam()}}},[a("v-icon",{attrs:{color:"pink"}},[e._v("delete")])],1),a("v-snackbar",{attrs:{color:"success"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[e._v(e._s(e.message))])],1)},E=[],O={name:"DeleteCampus",props:{name:{required:!0}},data:function(){return{show:!1,message:""}},methods:{deletecam:function(){var e=this,t=confirm("Warning!!! \n This will delete all movies linked to this campus, do you continue?","Exodus","Yes","No");if(t){var a=l()().format("DD/MM/YYYY");console.log(a),Object(r["f"])("campus",this.name,function(t){t?(console.log("This is response: ",t),e.message="This has been successfully deleted",e.show=!0,e.$store.dispatch("updateCampus",!0)):console.log(null)})}}}},N=O,B=(a("a590"),Object(m["a"])(N,M,E,!1,null,"89118a52",null));B.options.__file="DeleteCampus.vue";var F=B.exports;v()(B,{VBtn:h["a"],VIcon:w["a"],VSnackbar:k["a"]});var I=a("3fcb"),L=a("ea45"),q={name:"Campus",components:{AddCampus:D,EditCampus:Y,DeleteCampus:F,AppNavigation:I["a"]},data:function(){return{appTitle:"Exodus",staff:this.$store.getters.getStaff,drawer:!0}},methods:{crc:function(e,t){return Object(L["a"])(e,t)},next:function(e){this.$router.push({name:"campus-movie",params:{campus:e}})},specific:function(){return"all"==this.$store.getters.getStaff.campus?this.loads():Object(L["g"])(this.loads(),"name",this.$store.getters.getStaff.campus)},loads:function(){var e,t=this;return t.$store.dispatch("updateCampus",!1),e=t.$store.getters.getCampus,e}}},R=q,U=(a("b536"),a("a523")),H=a("0e8f"),J=a("adda"),P=a("a722"),W=Object(m["a"])(R,s,i,!1,null,"f3ebd308",null);W.options.__file="Campus.vue";t["default"]=W.exports;v()(W,{VCard:p["a"],VCardTitle:g["a"],VContainer:U["a"],VFlex:H["a"],VImg:J["a"],VLayout:P["a"],VTextField:y["a"]})},"9e1e1":function(e,t,a){},a590:function(e,t,a){"use strict";var s=a("7c8a"),i=a.n(s);i.a},b536:function(e,t,a){"use strict";var s=a("9e1e1"),i=a.n(s);i.a},bd30:function(e,t,a){"use strict";var s=a("91d6"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-4a437f91.8823e9ce.js.map